<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1400" height="900">
  <rect width="100%" height="100%" fill="#ffffff"/>
  <!-- Title -->
  <text x="30" y="50" font-family="Arial, Helvetica, sans-serif" font-size="32" font-weight="700">Next.js Commerce Demo — Architecture Overview</text>
  <text x="30" y="78" font-family="Arial, Helvetica, sans-serif" font-size="14" fill="#555">RSC/CSR 분리 · 전역 테마/상태 · 네비 UX · 접근성 · 성능 최적화</text>

  <!-- App Router row -->
  <text x="30" y="120" font-family="Arial, Helvetica, sans-serif" font-size="18" font-weight="700">App Router</text>

  <g font-family="Arial, Helvetica, sans-serif">
    <rect x="30" y="140" rx="12" ry="12" width="200" height="56" fill="#eef3fb" stroke="#6875f5"/>
    <text x="40" y="170" font-size="15">app/layout.tsx</text>

    <rect x="250" y="140" rx="12" ry="12" width="240" height="56" fill="#eef3fb" stroke="#6875f5"/>
    <text x="260" y="162" font-size="15">StyledComponentsRegistry</text>
    <text x="260" y="180" font-size="13" fill="#666">서버 스타일 수집</text>

    <rect x="510" y="140" rx="12" ry="12" width="240" height="56" fill="#eef3fb" stroke="#6875f5"/>
    <text x="520" y="162" font-size="15">ThemeProviderClient</text>
    <text x="520" y="180" font-size="13" fill="#666">(ThemeProvider)</text>

    <rect x="770" y="120" rx="12" ry="12" width="220" height="66" fill="#e9f8ff" stroke="#34a3ff"/>
    <text x="780" y="155" font-size="15">Header</text>

    <rect x="770" y="200" rx="12" ry="12" width="260" height="86" fill="#e9f8ff" stroke="#34a3ff"/>
    <text x="780" y="228" font-size="15">ClientProviders</text>
    <text x="780" y="248" font-size="13" fill="#666">QueryProvider + GlobalStyles</text>
    <text x="780" y="266" font-size="13" fill="#666">+ SessionExpireWatcher</text>

    <rect x="1050" y="160" rx="12" ry="12" width="230" height="56" fill="#eef3fb" stroke="#6875f5"/>
    <text x="1060" y="192" font-size="15">&lt;main id="main"&gt;{children}&lt;/main&gt;</text>

    <rect x="1290" y="160" rx="12" ry="12" width="90" height="56" fill="#eef3fb" stroke="#6875f5"/>
    <text x="1305" y="192" font-size="15">Footer</text>

    <!-- Arrows -->
    <line x1="230" y1="168" x2="250" y2="168" stroke="#777" marker-end="url(#arrow)"/>
    <line x1="490" y1="168" x2="510" y2="168" stroke="#777" marker-end="url(#arrow)"/>
    <line x1="750" y1="168" x2="770" y2="168" stroke="#777" marker-end="url(#arrow)"/>
    <line x1="990" y1="168" x2="1050" y2="188" stroke="#777" marker-end="url(#arrow)"/>
    <line x1="990" y1="188" x2="1050" y2="188" stroke="#777" marker-end="url(#arrow)"/>
    <line x1="1280" y1="188" x2="1290" y2="188" stroke="#777" marker-end="url(#arrow)"/>

    <!-- SEO box -->
    <rect x="1040" y="80" rx="12" ry="12" width="330" height="64" fill="#fff8e6" stroke="#f1b84b"/>
    <text x="1050" y="105" font-size="15">SEO/Meta</text>
    <text x="1050" y="125" font-size="13" fill="#666">metadata + OG/Twitter · robots · sitemap · StructuredData</text>
  </g>

  <!-- UI Layer -->
  <text x="30" y="340" font-family="Arial, Helvetica, sans-serif" font-size="18" font-weight="700">UI 계층</text>

  <g font-family="Arial, Helvetica, sans-serif">
    <rect x="30" y="360" rx="12" ry="12" width="270" height="70" fill="#f3f6f9" stroke="#9aa5b1"/>
    <text x="40" y="388" font-size="15">Header</text>
    <text x="40" y="406" font-size="13" fill="#666">(TopBar / Nav / MobileMenu)</text>

    <rect x="330" y="360" rx="12" ry="12" width="260" height="70" fill="#f3f6f9" stroke="#9aa5b1"/>
    <text x="340" y="388" font-size="15">NavDropdown</text>
    <text x="340" y="406" font-size="13" fill="#666">(메가 드롭다운)</text>

    <rect x="30" y="450" rx="12" ry="12" width="220" height="60" fill="#f3f6f9" stroke="#9aa5b1"/>
    <text x="40" y="486" font-size="15">Home (Server)</text>

    <rect x="270" y="450" rx="12" ry="12" width="310" height="60" fill="#f3f6f9" stroke="#9aa5b1"/>
    <text x="280" y="474" font-size="15">HomeBanner (Client)</text>
    <text x="280" y="492" font-size="13" fill="#666">Swiper dynamic import</text>

    <rect x="620" y="430" rx="12" ry="12" width="210" height="46" fill="#f3f6f9" stroke="#9aa5b1"/>
    <text x="630" y="458" font-size="15">Products / Category</text>

    <rect x="620" y="482" rx="12" ry="12" width="210" height="46" fill="#f3f6f9" stroke="#9aa5b1"/>
    <text x="630" y="510" font-size="15">Detail / Cart</text>

    <rect x="620" y="534" rx="12" ry="12" width="210" height="46" fill="#f3f6f9" stroke="#9aa5b1"/>
    <text x="630" y="562" font-size="15">Protected / OrderComplete</text>

    <!-- arrows -->
    <line x1="300" y1="395" x2="330" y2="395" stroke="#777" marker-end="url(#arrow)"/>
    <line x1="250" y1="480" x2="270" y2="480" stroke="#777" marker-end="url(#arrow)"/>
  </g>

  <!-- State/Data Layer -->
  <text x="30" y="610" font-family="Arial, Helvetica, sans-serif" font-size="18" font-weight="700">상태 / 데이터</text>

  <g font-family="Arial, Helvetica, sans-serif">
    <rect x="30" y="630" rx="12" ry="12" width="240" height="78" fill="#eefcf6" stroke="#2ebd85"/>
    <text x="40" y="656" font-size="15">React Query</text>
    <text x="40" y="676" font-size="13" fill="#666">데이터 fetch · staleTime · 캐시</text>

    <rect x="290" y="630" rx="12" ry="12" width="430" height="112" fill="#eefcf6" stroke="#2ebd85"/>
    <text x="300" y="656" font-size="15">Zustand Stores</text>
    <text x="300" y="676" font-size="13" fill="#666">- cartStore (수량/합계/퍼시스트)</text>
    <text x="300" y="694" font-size="13" fill="#666">- orderStore · authStore · favoriteStore</text>

    <rect x="30" y="720" rx="12" ry="12" width="420" height="64" fill="#eefcf6" stroke="#2ebd85"/>
    <text x="40" y="744" font-size="14">Auth 이벤트 → authStore → Header 버튼/Protected 경로 제어</text>

    <text x="740" y="695" font-size="14" fill="#666">Component 이벤트 → Store 업데이트 → UI 반영</text>
  </g>

  <!-- A11y & Performance -->
  <g font-family="Arial, Helvetica, sans-serif">
    <rect x="980" y="620" rx="12" ry="12" width="360" height="110" fill="#eef3ff" stroke="#6a8cff"/>
    <text x="990" y="646" font-size="15">접근성</text>
    <text x="990" y="666" font-size="13" fill="#666">SkipLink · :focus-visible · role/aria</text>
    <text x="990" y="684" font-size="13" fill="#666">Drawer focus trap(보강 예정)</text>

    <rect x="980" y="750" rx="12" ry="12" width="360" height="110" fill="#eefaf1" stroke="#6fcf97"/>
    <text x="990" y="776" font-size="15">성능</text>
    <text x="990" y="796" font-size="13" fill="#666">SSR(RSC) + CSR(dynamic)</text>
    <text x="990" y="814" font-size="13" fill="#666">next/image sizes/priority · preconnect · font-display</text>
  </g>

  <!-- arrow marker -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="6" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#777" />
    </marker>
  </defs>
</svg>
